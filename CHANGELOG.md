# Changelog

## [2.3.2] - 2025-09-01

### 🔒 セキュリティ強化
- XSS/SQLを単一テストケース内で「アクセス→フィールド待機→クリア→入力→送信→待機→ダイアログ未発火確認」まで自動実行
- Runnerに `wait_for_navigation` / `wait_for_selector` / `clear` / `check_alert` を追加

### ⚙️ 実行安定化
- safeClick: サブメニューhover、スライダー可視スライドクリック、href直接遷移など多段フォールバック
- スライダー(slick/swiper)のクリックとドラッグ対応

### 🧠 入力データ推論
- placeholder/label/前後文脈からダミー値を自動生成（CLIがあればAI、無ければルール）。検索は標準で「山田太郎」

### 🧱 ステップ自動合成
- リンク/セレクト/検索などで手順が不足する場合、保存時に「アクセス→操作→遷移待機」を自動合成

### 📝 ドキュメント
- README/HELP/QUICK_START/QUICK_REFERENCE/web-testヘルプを新ロジックに更新

## [2.1.0] - 2024-01-XX

### 🎉 新機能

#### URL選択機能
- **settings.jsonからのURL選択**: base_url/admin_urlから選択可能
- **対話型URL選択**: 実行時にURLを選択または入力
- **カスタムURL入力**: 任意のURLを指定可能

#### セッション維持機能
- **ログイン状態の保持**: ブラウザセッションを維持したテスト生成
- **手動ログイン対応**: ブラウザで手動ログイン後にテスト生成
- **認証ページのテスト**: 管理画面等の認証が必要なページに対応

### 🔧 改善

#### 入力処理の改善
- パスワードフィールドの入力処理を強化
- typeメソッドによる確実な入力
- 詳細なデバッグログの追加

#### URL処理の改善
- URLクリーンアップ処理の最適化
- 空URLによるエラーを防止
- プロトコル部分の適切な処理

#### テストケース生成の改善
- 新規生成時の初期化処理を修正
- 既存ファイルの確実なバックアップ
- AI応答解析のデバッグ情報追加

### 🐛 修正

- URLが「にアクセス可能」と表示される問題を修正
- パスワードが正しく入力されない問題を修正
- テストケースが空になる問題を修正
- URL置換ロジックの不具合を修正

---

## [2.0.0] - 2024-01-XX

### 🎉 新機能

#### 包括的テスト生成
- **最大50個のテストケースを自動生成**
  - 正常系、異常系、セキュリティテストを網羅
  - ページ要素を座標順（上→下、左→右）で体系的に解析
  - 各要素タイプに応じた最適なテストケース生成

#### セキュリティテスト強化
- **XSS攻撃テスト**: 8種類の攻撃パターンを自動検証
- **SQLインジェクション**: 7種類のインジェクションパターンを検証
- **ディレクトリトラバーサル**: 3種類のパス遡り攻撃を検証
- **CSRF防御**: トークン検証とクロスサイトリクエストのチェック
- CSRFトークンの自動検出とレポート

#### 録画・再生機能
- ブラウザ操作を録画してテストケース化
- 録画データからテストケースを自動生成
- 複数の録画ファイルを管理・選択可能
- 録画ファイルの一覧表示と詳細情報提供

#### ファイル管理機能
- テストケースファイルの自動バックアップ
- 複数のテストファイルから選択して実行
- タイムスタンプ付きバックアップファイル生成
- ファイル選択時の対話的インターフェース

#### オートコンプリート対策
- ブラウザの自動入力を無効化
- フィールドクリア後の確実な値入力
- `type`メソッドによる人間的な入力速度

### 🔧 改善

#### テスト実行の安定化
- 入力前のフィールドクリア処理を追加
- 要素の待機処理を改善
- エラーハンドリングの強化

#### AI生成プロンプトの最適化
- より詳細なテストケース生成指示
- セキュリティテストの自動組み込み
- 境界値テストの自動生成

#### ユーザビリティ向上
- コマンドヘルプに詳細な使用例を追加
- ファイル選択の対話的インターフェース
- プロンプトスキップオプションの追加

### 🐛 修正

#### 録画機能の不具合修正
- 録画データが保存されない問題を修正
- WebMファイルの誤った再生試行を防止
- 録画ファイルの適切な保存処理を実装

#### Playwright実行の問題修正
- ブラウザオートコンプリートの干渉を防止
- 入力値の確実な設定を保証
- セレクタの待機処理を改善

#### テストケース処理の修正
- nameプロパティのnullチェックを追加
- testNameプロパティのサポート追加
- カテゴリ判定ロジックの改善

### 📝 ドキュメント

- README.mdを v2.0.0 機能に更新
- QUICK_REFERENCE.md を新規作成
- CHANGELOG.md を新規作成
- コマンドヘルプの大幅改善

### 🔄 内部改善

- コードの構造化とモジュール分離
- エラーメッセージの明確化
- デバッグ情報の充実

---

## [1.0.0] - 2024-01-01

### 初回リリース
- 基本的なテストケース生成機能
- Playwright によるテスト実行
- Gemini/Claude CLI 統合
- 基本的な録画機能
